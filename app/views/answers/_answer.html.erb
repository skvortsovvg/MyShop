<article class="answer" id=<%= "answer_#{answer.id}" %>>
    <div>
      <% if answer.question.best_answer == answer %>
        <%= link_to image_tag('star-solid.svg', size: 15, style: 'width:50px') %>
      <% elsif answer.question.author == current_user %>
        <%= link_to image_tag('star-regular.svg', size: 15, style: 'width:50px'), best_question_path(answer.question, answer_id: answer.id), method: "put" %>
      <% end %>
      <%= answer.body %>
    </div>
    <div class="answer_date">
      <%= answer.created_at %>
    </div>
    <div>
      <% if answer.author != current_user and current_user %>
        <%= link_to image_tag('thumbs-up-regular.svg', size: 16), "#", method: :delete, remote: true %><span><%= answer.votes.where(like: true).count %></span>
        <%= link_to image_tag('thumbs-down-regular.svg', size: 16), "#", method: :delete, remote: true %><span><%= answer.votes.where(like: false).count %></span>
      <% end %>
    </div>
    <% if answer.files.attached? %>
      <div>
        <% answer.files.each do |file| %>
          <p id=<%="file_#{file.id}"%>>
            <%= link_to file.filename.to_s, url_for(file) %>
            <% if answer.author == current_user %>
              <%= link_to image_tag('trash-can-solid.svg', size: 12), delete_file_question_answer_path(question_id: answer.question, id: answer, file_id: file), method: :delete, remote: true %>
            <% end %>
          </p>
        <% end %>
      </div>
    <% end %>
    <% if answer.links.any? %>
      <div>
        Links:
        <% answer.links.each do |link| %>
          <p id=<%="link_#{link.id}" %>>
            <%= link_to link.name, link.url %>
            <% if answer.author == current_user %>
              <%= link_to image_tag('trash-can-solid.svg', size: 12), link_path(link), method: :delete, remote: true %>
              <% end %>
          </p>
        <% end %>
      </div>
    <% end %>
  <div class='answer_buttons'>
    <% if answer.author == current_user %>
      <%= button_to "Edit", edit_question_answer_path(answer.question, answer), data: { answer_id: answer.id }, style: 'display:inline-block;', class: "editBtn", method: :get, remote: true %> 
      <%= button_to "Delete", question_answer_path(answer.question, answer), form: {style: 'display:inline-block;'}, method: :delete, remote: true %>
    <% end %>
  </div>
</article>
